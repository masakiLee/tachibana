import{S as p}from"./sweetalert2.all-6bb87d0f.js";import{_ as h,L as v,M as b,N as w,r,o as g,c as V,b as e,d as t,w as x,f as k,n as _,p as E,h as I}from"./index-385571dd.js";import{_ as y}from"./logo-48c234d3.js";import{_ as B}from"./logo-sm-6f7fb87b.js";const{VITE_APP_URL:F}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"tachibanazushi",BASE_URL:"/tachibana/",MODE:"production",DEV:!1,PROD:!0},S={data(){return{user:{username:"",password:""}}},methods:{logIn(){this.$http.post(`${F}v2/admin/signin`,this.user).then(s=>{const{token:o,expired:d}=s.data;document.cookie=`LoginToken=${o};expires=${new Date(d)};`,p.fire({toast:!0,title:"成功登入",icon:"success",position:"top-end",showConfirmButton:!1,timer:1500,background:"#F2ECDD",color:"#F25C05"}),this.$router.push("/admin/index")}).catch(s=>{p.fire({toast:!0,title:`<span style="color: #ff0000"> ${s.response.data.message} </span> 帳號或密碼錯誤，請在重新輸入`,icon:"error",position:"top-end",showConfirmButton:!1,timer:1500,background:"#F2ECDD",color:"#000000"})})}},components:{VForm:v,VField:b,ErrorMessage:w},mounted(){}},l=s=>(E("data-v-64f3fda8"),s=s(),I(),s),D={class:"bg-dark dashBorad d-flex justify-content-center align-items-center"},C={class:"logInBox container"},A={class:"row justify-content-center"},P={class:"col col-md-8 col-xl-6"},T=k('<div class="logo text-center" data-v-64f3fda8><img src="'+y+'" alt="" class="mx-auto d-none d-lg-block" data-v-64f3fda8><img src="'+B+'" alt="" class="mx-auto d-block d-lg-none" data-v-64f3fda8><h1 data-v-64f3fda8>TACHIBANA</h1><p class="subtitle" data-v-64f3fda8>SUSHI</p></div><p class="back text-center bg-dark" data-v-64f3fda8>後台管理系統</p>',2),U={class:"col-12"},L=l(()=>e("label",{for:"email",class:"form-label"},"信箱 ",-1)),M={class:"col-12 mt-4"},N=l(()=>e("label",{for:"password",class:"form-label"},"密碼 ",-1)),$=l(()=>e("div",{class:"col-12 mt-4"},[e("button",{type:"submit",class:"btn btn-primary text-white d-block btn-lg w-100"}," 送出 ")],-1));function R(s,o,d,j,a,u){const i=r("VField"),c=r("ErrorMessage"),f=r("VForm");return g(),V("div",D,[e("div",C,[e("div",A,[e("div",P,[T,t(f,{onSubmit:u.logIn,class:"row text-white py-3 justify-content-center"},{default:x(({errors:m})=>[e("div",U,[L,t(i,{id:"email",name:"email",type:"email",modelValue:a.user.username,"onUpdate:modelValue":o[0]||(o[0]=n=>a.user.username=n),class:_(["form-control",{"is-invalid":m.email}]),placeholder:"請輸入 Email",rules:"email|required"},null,8,["modelValue","class"]),t(c,{name:"email",class:"invalid-feedback"})]),e("div",M,[N,t(i,{id:"password",name:"password",type:"password",modelValue:a.user.password,"onUpdate:modelValue":o[1]||(o[1]=n=>a.user.password=n),class:_(["form-control",{"is-invalid":m.password}]),placeholder:"請輸入密碼",rules:"required|min:8"},null,8,["modelValue","class"]),t(c,{name:"password",class:"invalid-feedback"})]),$]),_:1},8,["onSubmit"])])])])])}const G=h(S,[["render",R],["__scopeId","data-v-64f3fda8"]]);export{G as default};
