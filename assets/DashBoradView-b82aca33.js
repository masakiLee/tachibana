import{S as p}from"./sweetalert2.all-fa0eb958.js";import{_ as h,L as v,M as b,N as w,r,o as g,c as V,b as e,d as t,w as x,f as I,n as _,p as k,h as S}from"./index-0f56dcbe.js";import{_ as A}from"./logo-48c234d3.js";import{_ as B}from"./logo-sm-6f7fb87b.js";const{VITE_APP_URL:E}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"tachibanazushi",BASE_URL:"/tachibana/",MODE:"production",DEV:!1,PROD:!0},y={data(){return{user:{username:"",password:""}}},methods:{logIn(){this.$http.post(`${E}v2/admin/signin`,this.user).then(s=>{const{token:o,expired:i}=s.data;document.cookie=`LoginToken=${o};expires=${new Date(i)};`,p.fire({toast:!0,title:"成功登入",icon:"success",position:"top-end",showConfirmButton:!1,timer:1500,background:"#F2ECDD",color:"#F25C05"}),this.$router.push("/admin")}).catch(s=>{p.fire({toast:!0,title:`<span style="color: #ff0000"> ${s.response.data.message} </span> 帳號或密碼錯誤，請在重新輸入`,icon:"error",position:"top-end",showConfirmButton:!1,timer:1500,background:"#F2ECDD",color:"#000000"})})}},components:{VForm:v,VField:b,ErrorMessage:w},mounted(){}},l=s=>(k("data-v-f35803a3"),s=s(),S(),s),C={class:"bg-dark dashBorad d-flex justify-content-center align-items-center"},F={class:"logInBox container"},D={class:"row justify-content-center"},P={class:"col col-md-8 col-xl-6"},T=I('<div class="logo text-center" data-v-f35803a3><img src="'+A+'" alt="TACHIBANA SUSHI" class="mx-auto d-none d-lg-block" data-v-f35803a3><img src="'+B+'" alt="TACHIBANA SUSHI" class="mx-auto d-block d-lg-none" data-v-f35803a3><h1 data-v-f35803a3>TACHIBANA</h1><p class="subtitle" data-v-f35803a3>SUSHI</p></div><p class="back text-center bg-dark" data-v-f35803a3>後台管理系統</p>',2),U={class:"col-12"},H=l(()=>e("label",{for:"email",class:"form-label"},"信箱 ",-1)),N={class:"col-12 mt-4"},L=l(()=>e("label",{for:"password",class:"form-label"},"密碼 ",-1)),M=l(()=>e("div",{class:"col-12 mt-4"},[e("button",{type:"submit",class:"btn btn-primary text-white d-block btn-lg w-100"}," 送出 ")],-1));function $(s,o,i,R,a,u){const c=r("VField"),d=r("ErrorMessage"),f=r("VForm");return g(),V("div",C,[e("div",F,[e("div",D,[e("div",P,[T,t(f,{onSubmit:u.logIn,class:"row text-white py-3 justify-content-center"},{default:x(({errors:m})=>[e("div",U,[H,t(c,{id:"email",name:"email",type:"email",modelValue:a.user.username,"onUpdate:modelValue":o[0]||(o[0]=n=>a.user.username=n),class:_(["form-control",{"is-invalid":m.email}]),placeholder:"請輸入 Email",rules:"email|required"},null,8,["modelValue","class"]),t(d,{name:"email",class:"invalid-feedback"})]),e("div",N,[L,t(c,{id:"password",name:"password",type:"password",modelValue:a.user.password,"onUpdate:modelValue":o[1]||(o[1]=n=>a.user.password=n),class:_(["form-control",{"is-invalid":m.password}]),placeholder:"請輸入密碼",rules:"required|min:8"},null,8,["modelValue","class"]),t(d,{name:"password",class:"invalid-feedback"})]),M]),_:1},8,["onSubmit"])])])])])}const G=h(y,[["render",$],["__scopeId","data-v-f35803a3"]]);export{G as default};
