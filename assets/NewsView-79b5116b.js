import{P as w}from"./PageHeader-8552c2b8.js";import{P}from"./PaginationType-7ed32637.js";import{L as x}from"./index-3598e64f.js";import{S as y}from"./sweetalert2.all-fd72fbdd.js";import{_ as L,r as n,o as c,c as r,d as i,b as t,w as d,F as m,l as T,e as k,t as l,p as S,h as V}from"./index-ba425c64.js";const{VITE_APP_URL:E,VITE_APP_PATH:D}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"tachibanazushi",BASE_URL:"/tachibana/",MODE:"production",DEV:!1,PROD:!0},I={data(){return{articles:[],page:{},isLoading:!1,fullPage:!1}},methods:{getNews(){this.$http.get(`${E}v2/api/${D}/articles`).then(e=>{this.articles=e.data.articles,this.page=e.data.pagination,this.articles=e.data.articles.map(o=>{const p=o.create_at,s=new Date(p*1e3).toLocaleDateString();return{...o,dateString:s}}),setTimeout(()=>{this.isLoading=!1},600)}).catch(()=>{y.fire({toast:!0,title:'<span style="color: #ff0000">獲取最新消息失敗</span>',icon:"error",position:"top-end",showConfirmButton:!1,timer:1500,background:"#F2ECDD",color:"#000000"})})}},components:{PageHeader:w,PaginationType:P,Loading:x},mounted(){this.isLoading=!0,this.getNews()}},_=e=>(S("data-v-147980ba"),e=e(),V(),e),N={class:"section-news bg-darkTwo py-8"},A={class:"container"},C={class:"d-flex"},R=_(()=>t("div",{class:"square bg-darkTwo border border-primary border-3 mx-auto mx-md-0"},[t("h2",{class:"news-tips position-absolute bottom-0 end-0 text-nowrap p-3 bg-dark align-self-start mx-auto"}," 最新消息 ")],-1)),B={"aria-label":"breadcrumb",class:"ms-8 align-self-end d-none d-md-block"},H={class:"breadcrumb"},U={class:"breadcrumb-item"},F=_(()=>t("li",{class:"breadcrumb-item active text-primary","aria-current":"page"}," 最新消息 ",-1)),O={class:"row align-content-start flex-wrap my-9 vl-parent"},z=_(()=>t("div",{class:"sushi"},[t("div",{class:"circular"})],-1)),$={class:"newsCard","data-aos":"fade-zoom","data-aos-easing":"ease-in","data-aos-delay":"300","data-aos-offset":"0","data-aos-duration":"600"},q=["src"],M={class:"card-body bg-darkTwo p-4"},j={class:"card-title mb-3"},G={class:"card-text mb-3"},J={class:"card-time text-primary text-end"};function K(e,o,p,u,s,h){const f=n("PageHeader"),g=n("RouterLink"),b=n("loading"),v=n("PaginationType");return c(),r(m,null,[i(f),t("section",N,[t("div",A,[t("div",C,[R,t("nav",B,[t("ol",H,[t("li",U,[i(g,{to:"/"},{default:d(()=>[k("首頁")]),_:1})]),F])])]),t("div",O,[i(b,{active:s.isLoading,"onUpdate:active":o[0]||(o[0]=a=>s.isLoading=a),"background-color":"#222222","is-full-page":s.fullPage,opacity:1},{default:d(()=>[z]),_:1},8,["active","is-full-page"]),(c(!0),r(m,null,T(s.articles,a=>(c(),r("div",{class:"col-sm-6 col-lg-4",key:a.id},[t("div",null,[i(g,{to:`news/${a.id}`},{default:d(()=>[t("div",$,[t("div",null,[t("img",{src:a.image,class:"card-img-top card-img",alt:"newsOne"},null,8,q)]),t("div",M,[t("h2",j,l(a.title),1),t("h3",G,l(a.description),1),t("p",J,l(a.dateString),1)])])]),_:2},1032,["to"])])]))),128))]),i(v,{pages:s.page,onChangePage:h.getNews},null,8,["pages","onChangePage"])])])],64)}const tt=L(I,[["render",K],["__scopeId","data-v-147980ba"]]);export{tt as default};
