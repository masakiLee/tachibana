import{_ as b,m as v,r as l,o as d,c as p,d as c,b as t,w as f,n,F as g,l as C,e as x,t as _,p as P,h as k}from"./index-f4935e05.js";import{c as w}from"./cart-9b562778.js";import{P as T}from"./PageHeader-5a5118e8.js";import{P as V}from"./PaginationType-b4a661bc.js";import{S as E}from"./sweetalert2.all-82dbf304.js";const{VITE_APP_URL:$,VITE_APP_PATH:A}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"tachibanazushi",BASE_URL:"/tachibana/",MODE:"production",DEV:!1,PROD:!0},I={data(){return{products:[],page:{},currentCategory:"all"}},methods:{getProducts(e=1){const o=this.currentCategory==="all"?"":`&category=${this.currentCategory}`;this.$http.get(`${$}v2/api/${A}/products/?page=${e}&${o}`).then(i=>{this.products=i.data.products,this.page=i.data.pagination,this.$router.push({query:{page:this.page.current_page,category:this.currentCategory}})}).catch(()=>{E.fire({toast:!0,title:'<span style="color: #ff0000">獲取商品失敗</span>',icon:"error",position:"top-end",showConfirmButton:!1,timer:1500,background:"#F2ECDD",color:"#000000"})})},selectCategory(e){this.currentCategory=e,this.getProducts()},...v(w,["addToCart"])},components:{PageHeader:T,PaginationType:V},mounted(){this.getProducts();const e=this.currentCategory==="all"?"all":`&category=${this.currentCategory}`;this.$router.push({path:"/products",query:{page:1,category:e}})}},m=e=>(P("data-v-4cd9ecc5"),e=e(),k(),e),S={class:"section-products bg-darkTwo py-8"},D={class:"container"},L={class:"d-flex"},R=m(()=>t("div",{class:"square bg-darkTwo border border-primary border-3 mx-auto mx-md-0"},[t("h2",{class:"news-tips position-absolute bottom-0 end-0 text-nowrap p-3 bg-dark align-self-start mx-auto"}," 逸品料理 ")],-1)),B={"aria-label":"breadcrumb",class:"ms-8 align-self-end d-none d-md-block"},H={class:"breadcrumb"},q={class:"breadcrumb-item"},N=m(()=>t("li",{class:"breadcrumb-item active text-primary","aria-current":"page"}," 逸品料理 ",-1)),U={class:"products mt-9 mb-8"},F={class:"nav nav-pills flex-row mb-6"},O={class:"row row-cols-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4 g-md-6"},z={class:"box bg-dark"},j={class:"title p-3"},M={class:"bgOrange ms-auto"},G=["src","alt"],J={class:"price bg-danger py-1 px-2 ms-3"},K={class:"mark d-flex justify-content-evenly align-items-center"},Q=["onClick"];function W(e,o,i,X,a,r){const h=l("PageHeader"),u=l("RouterLink"),y=l("PaginationType");return d(),p(g,null,[c(h),t("section",S,[t("div",D,[t("div",L,[R,t("nav",B,[t("ol",H,[t("li",q,[c(u,{to:"/"},{default:f(()=>[x("首頁")]),_:1})]),N])])]),t("div",U,[t("nav",F,[t("a",{class:n(["flex-fill text-center nav-link",{active:a.currentCategory==="all"}]),onClick:o[0]||(o[0]=s=>r.selectCategory("all"))},"全部",2),t("a",{class:n(["flex-fill text-center nav-link",{active:a.currentCategory==="握壽司"}]),onClick:o[1]||(o[1]=s=>r.selectCategory("握壽司"))},"握壽司",2),t("a",{class:n(["flex-fill text-center nav-link",{active:a.currentCategory==="卷物"}]),onClick:o[2]||(o[2]=s=>r.selectCategory("卷物"))},"卷物",2),t("a",{class:n(["flex-fill text-center nav-link",{active:a.currentCategory==="軍艦"}]),onClick:o[3]||(o[3]=s=>r.selectCategory("軍艦"))},"軍艦",2)]),t("div",O,[(d(!0),p(g,null,C(a.products,s=>(d(),p("div",{class:"col",key:s.id},[t("div",z,[t("h3",j,_(s.title),1),t("div",M,[t("img",{src:s.imageUrl,alt:s.title,class:"pic"},null,8,G)]),t("span",J," NT$ "+_(s.price),1),t("div",K,[c(u,{to:`product/${s.id}`,type:"button",class:"bi bi-search border border-3 px-2 rounded-3"},null,8,["to"]),t("button",{type:"button",class:"bi bi-cart-dash border border-primary border-3 bg-primary px-2 rounded-3 text-white",onClick:Y=>e.addToCart(s.id,e.qty)},null,8,Q)])])]))),128))])]),c(y,{pages:a.page,onChangePage:r.getProducts},null,8,["pages","onChangePage"])])])],64)}const at=b(I,[["render",W],["__scopeId","data-v-4cd9ecc5"]]);export{at as default};
